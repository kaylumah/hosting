<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="icon" href="/assets/images/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon-16x16.png" />
        <link rel="manifest" href="/assets/images/site.webmanifest" />
        <link rel="mask-icon" href="/assets/images/safari-pinned-tab.svg" color="DarkGreen" />
        
        <link href="/compiled.css?v=dd6f8f7" rel="stylesheet" />
        
        
        
        
        <!-- Begin Kaylumah SEO tag vdd6f8f7 -->
        
        <title>Improve Code Quality with BannedSymbolAnalyzers</title>
        <link rel="canonical" href="https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html" />
        
        <meta name="generator" content="Kaylumah vdd6f8f7" />
        <meta name="description" content="Learn how a simple Roslyn Analyzer can improve code consistency">
        <!-- <meta name="keywords" content="csharp,code-quality"> -->
        <meta name="author" content="Max Hamuly√°k">
        <meta name="copyright" content="¬© Kaylumah. All rights reserved.">
        
        <meta property="og:locale" content="en" />
        <meta property="og:site_name" content="Max Hamuly√°k ¬∑ Kaylumah" />
        <meta property="og:type" content="article" />
        <meta property="og:title" content="Improve Code Quality with BannedSymbolAnalyzers">
        <meta property="og:url" content="https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html">
        <meta property="og:image" content="https://kaylumah.nl/assets/images/posts/20220131/improve-code-quality-with-bannedsymbolanalyzers/cover_image.png">
        <meta property="og:description" content="Learn how a simple Roslyn Analyzer can improve code consistency"><meta property="article:author" content="Max Hamuly√°k">
        <meta property="article:published_time" content="2022-01-31T21:45:00.0000000+01:00">
        <meta property="article:modified_time" content="2022-01-31T21:45:00.0000000+01:00">
        
        <meta property="article:tag" content="csharp" />
        
        <meta property="article:tag" content="code-quality" />
        
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Improve Code Quality with BannedSymbolAnalyzers">
        <meta name="twitter:site" content="@kaylumah">
        <meta name="twitter:creator" content="@kaylumah" />
        <meta name="twitter:description" content="Learn how a simple Roslyn Analyzer can improve code consistency">
        <meta name="twitter:image" content="https://kaylumah.nl/assets/images/posts/20220131/improve-code-quality-with-bannedsymbolanalyzers/cover_image.png">
        
        <script type="application/ld+json">
        {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "image": "https://kaylumah.nl/assets/images/posts/20220131/improve-code-quality-with-bannedsymbolanalyzers/cover_image.png",
          "mainEntityOfPage": "https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html",
          "author": {
            "@context": "https://schema.org",
            "@type": "Person",
            "name": "Max Hamuly√°k",
            "url": "https://kaylumah.nl"
          },
          "dateModified": "2022-01-31",
          "datePublished": "2022-01-31",
          "headline": "Improve Code Quality with BannedSymbolAnalyzers"
        }
        </script>
        
        <!-- End Kaylumah SEO tag -->
        <!-- BEGIN Feed MetaData-->
        <link
          type="application/atom+xml"
          rel="alternate"
          href="https://kaylumah.nl/feed.xml"
          title="Max Hamuly√°k ¬∑ Kaylumah RSS Feed"
        />
        <!-- END Feed MetaData -->

        <!--
                                                           
          _  __           _                       _        
         | |/ /__ _ _   _| |_   _ _ __ ___   __ _| |__     
         | ' // _` | | | | | | | | '_ ` _ \ / _` | '_ \    
         | . \ (_| | |_| | | |_| | | | | | | (_| | | | |   
         |_|\_\__,_|\__, |_|\__,_|_| |_| |_|\__,_|_| |_|   
                    |___/                                  
                                                           
         ¬© Kaylumah. All rights reserved.                             
         dd6f8f7d4021b19ad55feeb1095cc16e7ce2d5bf                              
         2.1.3                               
         06/05/2022 15:53:53 +02:00
         site: 5779c7fd-cd79-5890-b41c-18d7868b3777
         page: 1e9beb0e-1d8d-5334-b092-29def1292f34                                  
                                                           
         You found üß∏                                      
                                                           
                                                           
        -->
        
        <script>
        
          const consoleSignatureText = '%cüë®‚Äçüíª Thank you for your visit to my little spot on the internet, be welcome! üß∏';
          const consoleSignatureStyle = `
          font-size: 16px;
          background: #4cae50;
          color: white;
          text-align: center;
          padding: 10px 15px;
          width: 100%;
          border-radius: 20px;
        `;
          console.log(consoleSignatureText, consoleSignatureStyle);
        </script>
        
        <!-- Place your kit's code here -->
        <script data-search-pseudo-elements defer src="https://kit.fontawesome.com/61d3312dd9.js" crossorigin="anonymous"></script>
        
        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-168549883-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
        
          gtag('config', 'UA-168549883-1');
        </script>

        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Roboto&display=swap" />
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Roboto&display=swap" media="print" onload="this.media='all'" />
        <noscript>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Architects+Daughter&family=Roboto&display=swap" />
        </noscript>
    </head>
    <body class="line-numbers bg-gray-100 fa-colors">
        <div class="flex flex-col h-screen">
            <header class="bg-gray-900">
                <nav class="flex flex-wrap items-center justify-between py-4 px-4">
                    <div>
                        <a href="/" rel="author">
                            <!-- <img class="block md:hidden h-12 w-auto" src="/assets/logo_small.svg" alt="Kaylumah" /> -->
                            <img class="h-12 w-20" height="48" width="80" src="/assets/logo.svg" alt="Kaylumah" />
                        </a>
                    </div>
                    <div class="flex md:hidden">
                        <button id="hamburger" class="inline-flex items-center justify-center p-2 rounded-md text-gray-100 hover:text-gray-400 hover:bg-gray-500">
                            <span class="sr-only">Open main menu</span>
                            <svg class="toggle block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                            </svg>
                            <svg class="toggle hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                    <div class="toggle hidden md:flex w-full md:w-auto text-right text-bold mt-5 md:mt-0 border-t-2 border-gray-600 md:border-none"><a href="/about.html" class="block md:inline-block text-gray-100 hover:text-gray-400 px-3 py-3 border-b-2 border-gray-600 md:border-none">
                            About
                        </a><a href="/blog.html" class="block md:inline-block text-gray-100 hover:text-gray-400 px-3 py-3 border-b-2 border-gray-600 md:border-none">
                            Blog
                        </a></div>
                </nav>
                 <script>
                    document.getElementById('hamburger').onclick = function toggleMenu() {
                    const navToggle = document.getElementsByClassName('toggle');
                        for (let i = 0; i < navToggle.length; i++) {
                            navToggle.item(i).classList.toggle('hidden');
                        }
                    };
                </script>
            </header>

            <main class="flex-1 py-4 text-gray-900">
                <article class="py-16 px-6 sm:px-8">
    <header>
        <h1 class="flex flex-col items-center mx-auto">
            <span class="text-gray-900 font-semibold tracking-wide uppercase">Article</span>
            <span class="mt-2 text-3xl font-extrabold tracking-tight text-gray-900 sm:text-4xl">Improve Code Quality with BannedSymbolAnalyzers</span>
        </h1>
        <picture>
                        
                        <source type="image/webp" srcset="/assets/images/posts/20220131/improve-code-quality-with-bannedsymbolanalyzers/cover_image.webp">
                        <img class="mx-auto mt-1" src="/assets/images/posts/20220131/improve-code-quality-with-bannedsymbolanalyzers/cover_image.png" alt="cover for Improve Code Quality with BannedSymbolAnalyzers" height="640" width="1280" />
                        
        </picture>
        <div class="mx-auto mt-1">
            <dl class="rounded-lg sm:grid sm:grid-cols-4">
                <div class="flex flex-col p-6 text-center">
                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-800">
                        Authored by
                    </dt>
                    <dd class="order-1 text-xl font-extrabold">
                        Max Hamuly√°k
                    </dd>
                </div>
                <div class="flex flex-col p-6 text-center">
                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-800">
                        Posted on
                    </dt>
                    <dd class="order-1 text-xl font-extrabold">
                        <time datetime="2022-01-31">2022/01/31</time>
                    </dd>
                </div>
                <div class="flex flex-col p-6 text-center">
                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-800">
                        Reading time
                    </dt>
                    <dd class="order-1 text-xl font-extrabold">
                        4 minute
                    </dd>
                </div>
                <div class="flex flex-col p-6 text-center">
                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-800">
                        Published in
                    </dt>
                    <dd class="order-1 text-xl font-extrabold">
                    
                                        <a href="/archive.html#csharp" title="for the C# programming language" class="text-gray-800">
                                            <!-- <span class="text-gray-600">#</span> -->
                                            C#
                                        </a>
                                        
                                        <a href="/archive.html#code-quality" title="Code Quality" class="text-gray-800">
                                            <!-- <span class="text-gray-600">#</span> -->
                                            Code Quality
                                        </a>
                                        
                    </dd>
                </div>
            </dl>
        </div>
        
        <hr class="mt-8 border-t-2 w-20 mx-auto" />
    </header>
    <div class="mt-8 mx-auto max-w-prose md:max-w-7xl prose md:prose-lg lg:prose-xl">
        <p>There are many aspects of code quality; testability and consistency come to mind. I don t find it hard to imagine that the longer a project takes with multiple engineers that work on it, the more inconsistencies are in your codebase.</p>
<p>Thanks to the combination of .editorConfig and Roslyn Analyzers, managing this for your team is easier. Recently, however, I was required to create a custom check for my code. A quick google search pointed me to <a href="https://www.meziantou.net/the-roslyn-analyzers-i-use.htm" class="external">an article from Meziantou</a> which mentioned the &quot;Banned Symbol&quot; Roslyn Analyzer.</p>
<h2 id="scenario"><a href="#scenario">Scenario</a></h2>
<p>Before diving into this Analyzer, let's take a few steps back and do a quick scenario sketch. Imagine you work for a company that allows funds transfer between two parties. Since your company needs to make money, you charge a small fee.</p>
<pre><code class="language-cs">public class FeeCalculator : IFeeCalculator
{
    private const decimal FeePercentage = 0.12M;
    private const decimal MinimumCharge = 0.50M;
    private const decimal PriorityFeePercentage = 0.25M;
    private const decimal PriorityMinimumCharge = 7.50M;

    public decimal Calculate(decimal baseAmount, bool isPriority = false)
    {
        if (isPriority)
        {
            return InternalCalculate(baseAmount, PriorityFeePercentage, PriorityMinimumCharge);
        }
        return InternalCalculate(baseAmount, FeePercentage, MinimumCharge);
    }

    private static decimal InternalCalculate(decimal amount, decimal percentage, decimal minimumFee)
    {
        var calculatedFee = amount * (percentage / 100);
        if (calculatedFee &lt; minimumFee)
        {
            return minimumFee;
        }
        return calculatedFee;
    }
}
</code></pre>
<p>The company decided to offer &quot;Monday Madness&quot; at a heavily discounted fee as a special offer.
The implementation would look similar to the snippet below.</p>
<pre><code class="language-cs">public class DatedFeeCalculator : IFeeCalculator
{
    private const decimal DiscountedFeePercentage = 0.07M;
    private const decimal FeePercentage = 0.12M;
    private const decimal MinimumCharge = 0.50M;
    private const decimal PriorityFeePercentage = 0.25M;
    private const decimal PriorityMinimumCharge = 7.50M;

    public decimal Calculate(decimal baseAmount, bool isPriority = false)
    {
        if (isPriority)
        {
            return InternalCalculate(baseAmount, PriorityFeePercentage, PriorityMinimumCharge);
        }

        if (DateTime.Now.DayOfWeek == DayOfWeek.Monday)
        {
            return InternalCalculate(baseAmount, DiscountedFeePercentage, MinimumCharge);
        }
        return InternalCalculate(baseAmount, FeePercentage, MinimumCharge);
    }

    private static decimal InternalCalculate(decimal amount, decimal percentage, decimal minimumFee)
    {
        var calculatedFee = amount * (percentage / 100);
        if (calculatedFee &lt; minimumFee)
        {
            return minimumFee;
        }
        return calculatedFee;
    }
}
</code></pre>
<p>Take notice of line <code>16</code> which now uses <code>DateTime.Now</code>; the problem that now arises is: how do we test this code?</p>
<h2 id="why-testing-datetime-is-hard"><a href="#why-testing-datetime-is-hard">Why testing DateTime is hard</a></h2>
<p>The following test only results in a green build on a Monday, which is excellent if we release every week just before &quot;Monday Madness&quot; but not so great on every other day.</p>
<pre><code class="language-cs">[Fact]
public void Test2_Discounted()
{
    IFeeCalculator calculator = new DatedFeeCalculator();
    var fee = calculator.Calculate(10_000M, false);
    fee.Should().Be(7.00M); // note only on Mondays it's 7.00; every other day its 12.00
}
</code></pre>
<p>We could mitigate by skipping the offending test every day that is not Monday like this; problem solved, right?</p>
<pre><code class="language-cs">[SkippableFact]
public void Test2_Discounted_Alternative()
{
    Skip.If(DateTimeOffset.Now.DayOfWeek != DayOfWeek.Monday);
    IFeeCalculator calculator = new DatedFeeCalculator();
    var fee = calculator.Calculate(10_000M, false);
    fee.Should().Be(7.00M);
}
</code></pre>
<p>Well, no, not actually. What we want is to decouple our code from statics like DateTime.Now by putting them behind an interface. By providing an interface implementation, we can <a href="https://docs.microsoft.com/en-us/dotnet/core/testing/unit-testing-best-practices#stub-static-references" class="external">stub a static reference</a>.
In an ideal world, this interface would already exist, similar to ILogger in Microsoft.Extensions. For some background reading on why it does not yet exist, see this <a href="https://github.com/dotnet/runtime/issues/36617" class="external">GitHub Issue</a>.</p>
<h2 id="updated-scenario"><a href="#updated-scenario">Updated Scenario</a></h2>
<p>In its most simple from the SystemClock can look like the snippet below.</p>
<pre><code class="language-cs">public interface ISystemClock
{
    DateTimeOffset Now { get; }
}

public class SystemClock : ISystemClock
{
    public DateTimeOffset Now =&gt; DateTimeOffset.Now;
}
</code></pre>
<p>Our updated scenario looks like this:</p>
<pre><code class="language-cs">public class SystemClockFeeCalculator : IFeeCalculator
{
    private const decimal DiscountedFeePercentage = 0.07M;
    private const decimal FeePercentage = 0.12M;
    private const decimal MinimumCharge = 0.50M;
    private const decimal PriorityFeePercentage = 0.25M;
    private const decimal PriorityMinimumCharge = 7.50M;

    private readonly ISystemClock systemClock;

    public SystemClockFeeCalculator(ISystemClock systemClock)
    {
        this.systemClock = systemClock;
    }


    public decimal Calculate(decimal baseAmount, bool isPriority = false)
    {
        if (isPriority)
        {
            return InternalCalculate(baseAmount, PriorityFeePercentage, PriorityMinimumCharge);
        }

        if (systemClock.Now.DayOfWeek == DayOfWeek.Monday)
        {
            return InternalCalculate(baseAmount, DiscountedFeePercentage, MinimumCharge);
        }
        return InternalCalculate(baseAmount, FeePercentage, MinimumCharge);
    }

    private static decimal InternalCalculate(decimal amount, decimal percentage, decimal minimumFee)
    {
        var calculatedFee = amount * (percentage / 100);
        if (calculatedFee &lt; minimumFee)
        {
            return minimumFee;
        }
        return calculatedFee;
    }
}
</code></pre>
<p>With the use of a TestSystemClock or a Moq, we can test our behaviour every day of the week. See, we are improving quality already. In a previous article, <a href="https://kaylumah.nl/2021/04/11/an-approach-to-writing-mocks.html">&quot;Adventures with Mock&quot;</a> you can read more about my preferred way of creating mocks.</p>
<pre><code class="language-cs">public sealed class SystemClockMock : Mock&lt;ISystemClock&gt;
{
    public SystemClockMock SetupSystemTime(DateTimeOffset systemTime)
    {
        Setup(x =&gt; x.Now).Returns(systemTime);
        return this;
    }
}
</code></pre>
<p>Thanks to <code>SystemClockMock</code> I can now change the current date for the test.</p>
<pre><code class="language-cs">[Fact]
public void Test3_FakeClock_Monday()
{
    var clock = new SystemClockMock()
        .SetupSystemTime(new DateTimeOffset(new DateTime(2022, 1, 31)));
    IFeeCalculator calculator = new SystemClockFeeCalculator(clock.Object);
    var fee = calculator.Calculate(10_000M, false);
    fee.Should().Be(7.00M);
}

[Fact]
public void Test3_FakeClock_Tuesday()
{
    var clock = new SystemClockMock()
        .SetupSystemTime(new DateTimeOffset(new DateTime(2022, 2, 1)));
    IFeeCalculator calculator = new SystemClockFeeCalculator(clock.Object);
    var fee = calculator.Calculate(10_000M, false);
    fee.Should().Be(12.00M);
}
</code></pre>
<h2 id="force-wrapper-over-static-reference"><a href="#force-wrapper-over-static-reference">Force Wrapper over Static Reference</a></h2>
<p>Now that we have our SystemClock, how do we make sure every dev in our team uses it over just calling <code>DateTimeOffset.Now</code>?</p>
<p>Finally, our Roslyn Analyzer comes into play. We can use <a href="https://github.com/dotnet/roslyn-analyzers/blob/main/src/Microsoft.CodeAnalysis.BannedApiAnalyzers/BannedApiAnalyzers.Help.md" class="external">Microsoft.CodeAnalysis.BannedApiAnalyzers</a>, which triggers the build warning <code>RS0030</code>. I prefer to enable these warnings on every project under src, so I use a Directory.Build.props file to install the analyzer via NuGet.</p>
<pre><code class="language-xml">&lt;Project&gt;
  &lt;Import Project=&quot;../Directory.Build.props&quot; /&gt;
  &lt;ItemGroup&gt;
    &lt;PackageReference Include=&quot;Microsoft.CodeAnalysis.BannedApiAnalyzers&quot; Version=&quot;3.3.2&quot;&gt;
      &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;
      &lt;IncludeAssets&gt;runtime; build; native; contentfiles; analyzers&lt;/IncludeAssets&gt;
    &lt;/PackageReference&gt;
  &lt;/ItemGroup&gt;
  &lt;ItemGroup&gt;
    &lt;AdditionalFiles Include=&quot;$(MSBuildThisFileDirectory)/BannedSymbols.txt&quot; /&gt;
  &lt;/ItemGroup&gt;
&lt;/Project&gt;
</code></pre>
<p>All that remains is to create a file called <code>BannedSymbols.txt</code> with the following content</p>
<blockquote>
<p><strong>note</strong>: I also blocked the use of DateTime in favour of DateTimeOffset.</p>
</blockquote>
<pre><code class="language-txt">T:System.DateTime;Always use System.DateTimeOffset over System.DateTime
P:System.DateTimeOffset.Now;Use ISystemClock.Now instead
</code></pre>
<p>From this point on every use of <code>DateTimeOffset.Now</code> results in the following error: <code>error RS0030: The symbol 'DateTimeOffset.Now' is banned in this project: Use ISystemClock.Now instead</code>. Which in my opinion is pretty cool :)</p>
<h2 id="closing-thoughts"><a href="#closing-thoughts">Closing Thoughts</a></h2>
<p>Even if the system used in today's example is fictional, I think the BannedSymbolAnalyzers is a compelling package to include in your toolbelt. At the very least, I will use it to force DateTimeOffset over DateTime. Situation allowing I will also push my wrappers over static references to improve testability.</p>
<p>As always, if you have any questions, feel free to reach out. Do you have suggestions or alternatives? I would love to hear about them.</p>
<p>The corresponding source code for this article is on <a href="https://github.com/kaylumah/ImproveCodeQualityWithBannedSymbolAnalyzers" class="external">GitHub</a>.</p>
<p>See you next time, stay healthy and happy coding to all üß∏!</p>
<h2 id="additional-resources"><a href="#additional-resources">Additional Resources</a></h2>
<ul>
<li>[https://github.com/dotnet/roslyn-analyzers](Roslyn Analyzers)</li>
<li>[https://docs.microsoft.com/en-us/visualstudio/code-quality/roslyn-analyzers-overview](Visual Studio Code Quality)</li>
</ul>
    </div>

    <footer class="flex flex-col mt-8">
        
                <div class="social-share">
            <span class="mx-auto">Enjoying my content? Consider sharing and help me grow my audience :)</span>
            <div class="flex justify-center space-x-6">
                    <a target="_blank" rel=‚Äùnoopener‚Äù title="Share link to post via LinkedIn" href="https://www.linkedin.com/shareArticle?mini=true&url=https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html" onclick="window.open(this.href, 'width=550,height=435');return false;">
                        <span class="sr-only">LinkedIn Share</span>
                        <em class="fab fa-linkedin fa-lg"></em>
                    </a>
                    <a target="_blank" rel=‚Äùnoopener‚Äù title="Share link to post via Twitter" href="https://twitter.com/intent/tweet?text=Improve%20Code%20Quality%20with%20BannedSymbolAnalyzers&url=https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                        <span class="sr-only">Twitter Share</span>
                        <em class="fab fa-twitter-square fa-lg"></em>
                    </a>
                    <a target="_blank" rel=‚Äùnoopener‚Äù title="Share link to post via Facebook" href="https://facebook.com/sharer.php?u=https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                        <span class="sr-only">Facebook Share</span>
                        <em class="fab fa-facebook fa-lg"></em>
                    </a>
                    <a target="_blank" rel=‚Äùnoopener‚Äù title="Share link to post via Email" href="mailto:?subject=Improve Code Quality with BannedSymbolAnalyzers&amp;body=Thought you might like this article https://kaylumah.nl/2022/01/31/improve-code-quality-with-bannedsymbolanalyzers.html">
                        <span class="sr-only">Email Share</span>
                        <em class="fas fa-envelope-open-text fa-lg"></em>
                    </a>
            </div>
        </div>
                
        
                <script src="  https://unpkg.com/showdown/dist/showdown.min.js"></script>
        <script>
        const GH_ISSUE_API = 'https://api.github.com/repos/kaylumah/kaylumah.github.io/issues/67/comments?per_page=100';
        let request = new XMLHttpRequest();
        request.open( 'GET', GH_ISSUE_API, true );
        
        request.onload = function() {
            if ( this.status >= 200 && this.status < 400 ) { 
                let response = JSON.parse( this.response );
        
                for ( var i = 0; i < response.length; i++ ) {
        			document.getElementById( 'gh-comments-list' ).appendChild( createCommentEl( response[ i ] ) );
        		}
                document.getElementById( 'no-comments-found' ).style.display = 0 === response.length  ? 'block' : 'none';
            }
            else {
                console.error( this );
            }
        };
        
        function createCommentEl( response ) {
            let userName = document.createElement('h3');
            userName.classList.add('text-sm', 'font-medium');
            userName.innerHTML = `@${response.user.login}`;
        
            let commentTime = document.createElement('p');
            commentTime.classList.add('text-sm', 'text-gray-700');
            commentTime.textContent = response.created_at;
        
            let commentMetadata = document.createElement('div');
            commentMetadata.classList.add('flex', 'items-center', 'justify-between');
            commentMetadata.appendChild(userName);
            commentMetadata.appendChild(commentTime);
        
            let commentContents = document.createElement('p');
            commentContents.classList.add('mx-auto', 'prose', 'md:prose-lg', 'lg:prose-xl');
            commentContents.innerHTML = response.body;
            // Progressive enhancement.
        	if ( window.showdown ) {
        		let converter = new showdown.Converter();
        		commentContents.innerHTML = converter.makeHtml( response.body );
        	}
        
            let commentWrapper = document.createElement('div');
            commentWrapper.classList.add('flex-1', 'space-y-1');
            commentWrapper.appendChild(commentMetadata);
            commentWrapper.appendChild(commentContents);
        
            let userAvatar = document.createElement( 'img' );
            userAvatar.classList.add('h-8', 'w-8');
        	userAvatar.setAttribute( 'src', response.user.avatar_url );
            userAvatar.setAttribute( 'alt', `${response.user.login} GitHub Avatar` );
            userAvatar.setAttribute( 'width', 32 );
            userAvatar.setAttribute( 'height', 32 );
        
            let commentLink = document.createElement('a');
            commentLink.classList.add('flex', 'space-x-3');
            commentLink.appendChild(userAvatar);
            commentLink.appendChild(commentWrapper);
            commentLink.setAttribute( 'href', response.html_url );
        
            let comment = document.createElement('li');
            comment.classList.add('py-4');
            comment.setAttribute( 'data-created', response.created_at );
        	comment.setAttribute( 'data-author-avatar', response.user.avatar_url );
        	comment.setAttribute( 'data-user-url', response.user.url );
            comment.appendChild(commentLink);
        
            return comment;
        }
        
        request.send();
        </script>
        
        <div class="github-comments" class="mt-2">
        	<h2>Comments</h2>
        	<ul class="divide-y divide-gray-200" id="gh-comments-list">
                <noscript>Please enable JavaScript to load the comments.</noscript>
                <li id="no-comments-found" class="py-4">
                    <span class="text-sm font-semibold">No comments found for this article.</span>
                </li>
            </ul>
        	<p id="leave-a-comment">Join the discussion for this article on <a class="font-semibold external" href="https://github.com/kaylumah/kaylumah.github.io/issues/67">this ticket</a>.</p>
        </div>
                
    </footer>
   
</article>
                <button class="fixed z-50 bottom-4 right-4 w-16 h-16 rounded-full bg-gray-300 text-white block" onclick="topFunction()" id="myBtn" title="Go to top">
                    <span class="sr-only">Back to top!</span>
                    <em class="fad fa-angle-double-up fa-lg"></em>
                </button>
                <script>
                    var mybutton = document.getElementById("myBtn");
                
                    window.onscroll = function() {scrollFunction()};
                
                    function scrollFunction() {
                        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                            mybutton.style.display = "block";
                        }
                        else {
                            mybutton.style.display = "none";
                        }
                    }
                    function topFunction() {
                        document.body.scrollTop = 0;
                        document.documentElement.scrollTop = 0;
                    }
                </script>
            </main>
            <footer class="bg-gray-900">
                <div class="py-4 px-4">
                    <div class="flex justify-center space-x-6">
                        
                        <a target="_blank" rel=‚Äùnoopener‚Äù href="https://www.linkedin.com/in/maxhamulyak" class="text-gray-100 hover:text-gray-400">
                            <span class="sr-only">LinkedIn</span>
                            <em class="fab fa-linkedin fa-lg"></em>
                        </a>
                        <a target="_blank" rel=‚Äùnoopener‚Äù href="https://github.com/kaylumah" class="text-gray-100 hover:text-gray-400">
                            <span class="sr-only">GitHub</span>
                            <em class="fab fa-github-square fa-lg"></em>
                        </a>
                        <a target="_blank" rel=‚Äùnoopener‚Äù href="https://twitter.com/kaylumah" class="text-gray-100 hover:text-gray-400">
                            <span class="sr-only">Twitter</span>
                            <em class="fab fa-twitter-square fa-lg"></em>
                        </a>
                    </div>
                    <div class="pt-2 flex flex-col text-center text-gray-100">
                        <span>¬© Kaylumah. All rights reserved.</span>
                        <span class="text-xs">Deployed from commit <a class="hover:text-gray-400" href="https://github.com/kaylumah/kaylumah.github.io/commit/dd6f8f7d4021b19ad55feeb1095cc16e7ce2d5bf">dd6f8f7</a> via build <a class="hover:text-gray-400" href="https://github.com/kaylumah/kaylumah.github.io/actions/runs/1">20220605.035307</a></span>
                    </div>
                    <div class="pt-2 flex justify-center space-x-6">
                        <a href="/" class="text-gray-100 hover:text-gray-400">
                            <span class="sr-only">Kaylumah</span>
                            <em class="fak fa-logo-kaylumah fa-lg"></em>
                        </a>
                    </div>
                </div>
            </footer>
        </div>
        
    </body>
</html>