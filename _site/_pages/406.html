---
layout: default.html
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 Not Found</title>
</head>
<body>
    <h1>404 - Page Not Found</h1>
    <p>We couldn't find the page you were looking for. Did you mean:</p>
    <ul id="suggestions"></ul>

    <script>
        // Configuration parameters
        const sitemapIndexUrl = '/sitemap_index.xml'; // URL of your sitemap index file
        const maxAcceptableDistance = 5; // Maximum allowable distance for a suggestion
        const maxSuggestions = 3; // Maximum number of suggestions to display

        // Get the current URL path from the browser
        const requestedUrl = window.location.pathname;

        // Fetch all valid URLs from the sitemap index and store them in the global variable
        fetchSitemapIndexUrls(sitemapIndexUrl).then(urls => {
            validUrls = urls; // Store fetched URLs in the global variable

            if (!validUrls.length) {
                console.error('No valid URLs found.');
                return;
            }

            // Calculate the Levenshtein distances
            const urlDistances = validUrls.map(validUrl => ({
                url: validUrl,
                distance: calculateLevenshteinDistance(requestedUrl, validUrl)
            }));

            // Sort the URLs by their computed Levenshtein distance
            urlDistances.sort((a, b) => a.distance - b.distance);

            // Display the closest matching URLs within the acceptable distance
            const suggestionsElement = document.getElementById('suggestions');
            let suggestionsCount = 0;

            for (let i = 0; i < urlDistances.length && suggestionsCount < maxSuggestions; i++) {
                if (urlDistances[i].distance <= maxAcceptableDistance) {
                    const suggestionItem = document.createElement('li');
                    suggestionItem.innerHTML = `<a href="${urlDistances[i].url}">${urlDistances[i].url}</a>`;
                    suggestionsElement.appendChild(suggestionItem);
                    suggestionsCount++;
                }
            }
        }).catch(error => {
            console.error('Error processing sitemaps:', error);
        });
    </script>
</body>
</html>