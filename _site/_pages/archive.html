---
layout: column.html
title: 'Blog Archive · C#, Testing, Software Quality · Kaylumah'
description: "Explore blog posts on C#, Testing and Software Quality by Kaylumah. Covering topics in software engineering since 2019."
tags:
- C#
- Testing
- Software Quality
- Software Engineering
- .NET
- Blog
- Archive
modifieddate: '2025-03-22'
type: Collection
ads: true
---
<h1 class="text-2xl font-bold mb-4">Archive</h1>
<div class="space-y-8">
    <form id="search-form" class="mb-6 flex gap-2">
        <input
                type="text"
                id="search-input"
                name="q"
                class="w-full px-4 py-2 border rounded-md"
                placeholder="Search blog posts..."
        />
        <button type="submit" class="px-4 py-2 bg-gray-800 text-white rounded-md">Search</button>
    </form>
    {% for pageByYear in page.pagesbyyears %}
    {% assign year = pageByYear.key %}
    {% assign items = page[pageByYear.value] %}
    <!-- {{ year }} -->
    <section class="py-6 border-b border-gray-200">
        <h2 class="text-xl font-semibold text-gray-800 mb-3">{{ year }}</h2>
        <ul data-blog-list class="space-y-2">
            {% for item in items %}
            <li data-tags="{{ item.tags | array.join " " }}">
                <a href="{{ item.uri }}"
                   class="text-gray-800 hover:text-gray-900 hover:underline transition">
                    {{ item.title }}
                </a>
            </li>
            {% endfor %}
        </ul>
    </section>
    {% endfor %}
    <div id="load-more" class="mt-6 text-center hidden">
        <a href="/archive.html" class="text-gray-700 font-medium hover:underline">View More Content →</a>
    </div>
</div>
<script src="/_pagefind/pagefind.js"></script>
<script>
    document.addEventListener("DOMContentLoaded", async () => {
        const urlParams = new URLSearchParams(window.location.search);
        const query = urlParams.get("q")?.toLowerCase().trim();
        const tag = urlParams.get("tag")?.toLowerCase().trim();

        const loadMoreElement = document.getElementById("load-more");
        if (loadMoreElement && (query || tag)) {
            loadMoreElement.classList.remove("hidden");
        }

        const blogPostLists = Array.from(document.querySelectorAll("[data-blog-list]"));
        const allPosts = [];
        blogPostLists.forEach(list => {
            const posts = Array.from(list.querySelectorAll("li"));
            posts.forEach(post => allPosts.push(post));
        });

        // 👇 Current: Match posts using data-* attributes
        function getMatchingUrlsFromAttributes(posts, { query, tag }) {
            const matches = new Set();

            posts.forEach(post => {
                const title = post.getAttribute("data-title")?.toLowerCase() || "";
                const description = post.getAttribute("data-description")?.toLowerCase() || "";
                const tags = post.getAttribute("data-tags")?.toLowerCase() || "";

                const matchesTag = tag ? tags.includes(tag) : true;
                const matchesQuery = query
                    ? title.includes(query) || description.includes(query) || tags.includes(query)
                    : true;

                if (matchesTag && matchesQuery) {
                    const href = post.querySelector("a")?.getAttribute("href");
                    if (href) {
                        const path = new URL(href, location.origin).pathname;
                        matches.add(path);
                    }
                }
            });

            return matches;
        }

        // 👇 Future Option: Use Pagefind to get matching URLs
        /*
        async function getMatchingUrlsFromPagefind(query, tag) {
          const pagefind = await window.pagefind();
          let results = await pagefind.search(query || "");
          if (tag) {
            results = results.filter(r => r.meta?.tags?.includes(tag));
          }
          const dataResults = await Promise.all(results.map(r => r.data()));
          return new Set(dataResults.map(d => new URL(d.url, location.origin).pathname));
        }
        */

        // 🔁 Use this line now:
        const matchingUrls = getMatchingUrlsFromAttributes(allPosts, { query, tag });

        // ✅ Swap to Pagefind in the future with:
        // const matchingUrls = await getMatchingUrlsFromPagefind(query, tag);

        // 🔍 Filter posts and hide unmatched
        blogPostLists.forEach(list => {
            const posts = Array.from(list.querySelectorAll("li"));
            let anyVisible = false;

            posts.forEach(post => {
                const href = post.querySelector("a")?.getAttribute("href");
                const path = href ? new URL(href, location.origin).pathname : null;
                const isMatch = path && matchingUrls.has(path);

                if (isMatch) {
                    post.classList.remove("hidden");
                    anyVisible = true;
                } else {
                    post.classList.add("hidden");
                }
            });

            const section = list.closest("section");
            if (!anyVisible && section) {
                section.classList.add("hidden");
            }
        });

        // Optional: pre-fill search input
        const searchInput = document.getElementById("search-input");
        if (searchInput && query) {
            searchInput.value = query;
        }

        // Optional: search form handling
        document.getElementById("search-form")?.addEventListener("submit", e => {
            e.preventDefault();
            const value = searchInput?.value.trim();
            const newUrl = new URL(location.href);
            if (value) newUrl.searchParams.set("q", value);
            else newUrl.searchParams.delete("q");
            if (tag) newUrl.searchParams.set("tag", tag);
            window.location.href = newUrl.toString();
        });
    });
</script>